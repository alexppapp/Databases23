{% extends "handler.html" %}
{% block body %}


  <h2>Search Books</h2>
  <form action="/books" method="POST">
    <label for="title">Title:</label>
    <input type="text" id="title" name="title"><br><br>
    
    <label for="author">Author:</label>
    <input type="text" id="author" name="author"><br><br>
    
    <label for="theme">Theme:</label>
    <input type="text" id="theme" name="theme"><br><br>
    
    <input type="submit" value="Search">
  </form>

  <h2>Books</h2>
  {% if results %}
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Author</th>
          <th>Theme</th>
          <th>Number of Copies</th>
        </tr>
      </thead>
      <tbody>
        {% for row in results %}
          <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No books found.</p>
  {% endif %}

  {% endblock %}
